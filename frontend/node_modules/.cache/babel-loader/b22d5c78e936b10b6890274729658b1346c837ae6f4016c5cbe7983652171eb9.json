{"ast":null,"code":"var _jsxFileName = \"/Users/florianrunkel/Documents/02_Uni/04_Masterarbeit/masterthesis/frontend/src/components/candidates/prediction/PredictionResultTime.jsx\";\nimport React from 'react';\nimport { Box, Typography, Chip } from '@mui/material';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport Timeline from '../display/Timeline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst zeitraumRanges = [{\n  label: \"0-3 Monate\",\n  start: 0,\n  end: 90,\n  color: \"#8AD265\"\n}, {\n  label: \"3-6 Monate\",\n  start: 91,\n  end: 180,\n  color: \"#8AD265\"\n}, {\n  label: \"6-9 Monate\",\n  start: 181,\n  end: 270,\n  color: \"#FFC03D\"\n}, {\n  label: \"9-12 Monate\",\n  start: 271,\n  end: 365,\n  color: \"#FF8000\"\n}, {\n  label: \"12-18 Monate\",\n  start: 366,\n  end: 545,\n  color: \"#FF2525\"\n}, {\n  label: \"über 18 Monate\",\n  start: 546,\n  end: 730,\n  color: \"#b0b0b0\"\n}];\nconst MAE = 190.76;\nconst RMSE = 368.66;\nfunction calculateAdjustedConfidence(prediction) {\n  if (!prediction.predictions || !prediction.predictions[0]) return prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] * MAE : 0;\n  const vorhersage = prediction.predictions[0].vorhersage;\n  const uncertainty = vorhersage.unsicherheit;\n  const daysFromConfidence = (prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] : 0) * MAE;\n  const rmseFactor = 1 - uncertainty / RMSE;\n  const adjustedDays = daysFromConfidence * rmseFactor;\n  return adjustedDays;\n}\nconst PredictionResultTime = ({\n  prediction\n}) => {\n  var _zeitraumRanges$find;\n  if (!prediction) return null;\n\n  // Berechne Werte\n  const adjustedDays = calculateAdjustedConfidence(prediction);\n  const heute = new Date();\n  const tageBisWechsel = Math.round(adjustedDays);\n  const wechseldatum = new Date(heute.getTime() + tageBisWechsel * 24 * 60 * 60 * 1000);\n  const wechseldatumStr = wechseldatum.toLocaleDateString('de-DE', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n\n  // Zeitraum-Label\n  let zeitraumLabel = \"-\";\n  for (const r of zeitraumRanges) {\n    if (tageBisWechsel >= r.start && tageBisWechsel <= r.end) {\n      zeitraumLabel = r.label;\n      break;\n    }\n  }\n  const zeitraumColor = ((_zeitraumRanges$find = zeitraumRanges.find(r => r.label === zeitraumLabel)) === null || _zeitraumRanges$find === void 0 ? void 0 : _zeitraumRanges$find.color) || '#b0b0b0';\n\n  // Unsicherheit\n  let unsicherheit = null;\n  if (prediction.predictions && prediction.predictions[0] && prediction.predictions[0].vorhersage) {\n    unsicherheit = prediction.predictions[0].vorhersage.unsicherheit;\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      display: 'flex',\n      mt: 4,\n      mb: 4,\n      justifyContent: 'center',\n      height: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        bgcolor: '#fff',\n        borderRadius: '22px',\n        boxShadow: '0 4px 24px 0 rgba(0,0,0,0.10)',\n        p: {\n          xs: 2,\n          sm: 3\n        },\n        width: '100%',\n        maxWidth: 1300,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 1.5,\n        border: '1.5px solid #e0e7ef',\n        height: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"primary\",\n        sx: {\n          fontWeight: 900,\n          letterSpacing: 1,\n          mb: 0.5\n        },\n        children: \"Voraussichtlicher Jobwechsel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: '#444',\n          fontSize: '1.1rem',\n          lineHeight: 1.7,\n          textAlign: 'justify',\n          mb: 1\n        },\n        children: \"Die Prognose zeigt, wann der Kandidat voraussichtlich den Job wechseln wird. Die Timeline visualisiert den Zeitraum zwischen heute und dem erwarteten Wechseldatum.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), prediction.llm_explanation && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 1,\n          mb: 1,\n          p: 1.5,\n          bgcolor: '#f5f5f5',\n          borderRadius: 2,\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: '#444',\n            fontSize: '1.08rem',\n            lineHeight: 1.7,\n            textAlign: 'center'\n          },\n          children: prediction.llm_explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Timeline, {\n        prediction: prediction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = PredictionResultTime;\nexport default PredictionResultTime;\nvar _c;\n$RefreshReg$(_c, \"PredictionResultTime\");","map":{"version":3,"names":["React","Box","Typography","Chip","CalendarMonthIcon","AccessTimeIcon","TrendingUpIcon","InfoOutlinedIcon","Timeline","jsxDEV","_jsxDEV","zeitraumRanges","label","start","end","color","MAE","RMSE","calculateAdjustedConfidence","prediction","predictions","confidence","vorhersage","uncertainty","unsicherheit","daysFromConfidence","rmseFactor","adjustedDays","PredictionResultTime","_zeitraumRanges$find","heute","Date","tageBisWechsel","Math","round","wechseldatum","getTime","wechseldatumStr","toLocaleDateString","year","month","day","zeitraumLabel","r","zeitraumColor","find","sx","width","display","mt","mb","justifyContent","height","children","bgcolor","borderRadius","boxShadow","p","xs","sm","maxWidth","flexDirection","gap","border","variant","fontWeight","letterSpacing","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","lineHeight","textAlign","llm_explanation","_c","$RefreshReg$"],"sources":["/Users/florianrunkel/Documents/02_Uni/04_Masterarbeit/masterthesis/frontend/src/components/candidates/prediction/PredictionResultTime.jsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Chip } from '@mui/material';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport Timeline from '../display/Timeline';\n\nconst zeitraumRanges = [\n  { label: \"0-3 Monate\", start: 0, end: 90, color: \"#8AD265\" },\n  { label: \"3-6 Monate\", start: 91, end: 180, color: \"#8AD265\" },\n  { label: \"6-9 Monate\", start: 181, end: 270, color: \"#FFC03D\" },\n  { label: \"9-12 Monate\", start: 271, end: 365, color: \"#FF8000\" },\n  { label: \"12-18 Monate\", start: 366, end: 545, color: \"#FF2525\" },\n  { label: \"über 18 Monate\", start: 546, end: 730, color: \"#b0b0b0\" }\n];\n\nconst MAE = 190.76;\nconst RMSE = 368.66;\n\nfunction calculateAdjustedConfidence(prediction) {\n  if (!prediction.predictions || !prediction.predictions[0]) return prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] * MAE : 0;\n  const vorhersage = prediction.predictions[0].vorhersage;\n  const uncertainty = vorhersage.unsicherheit;\n  const daysFromConfidence = (prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] : 0) * MAE;\n  const rmseFactor = 1 - (uncertainty / RMSE);\n  const adjustedDays = daysFromConfidence * rmseFactor;\n  return adjustedDays;\n}\n\nconst PredictionResultTime = ({ prediction }) => {\n  if (!prediction) return null;\n\n  // Berechne Werte\n  const adjustedDays = calculateAdjustedConfidence(prediction);\n  const heute = new Date();\n  const tageBisWechsel = Math.round(adjustedDays);\n  const wechseldatum = new Date(heute.getTime() + tageBisWechsel * 24 * 60 * 60 * 1000);\n  const wechseldatumStr = wechseldatum.toLocaleDateString('de-DE', { year: 'numeric', month: 'long', day: 'numeric' });\n\n  // Zeitraum-Label\n  let zeitraumLabel = \"-\";\n  for (const r of zeitraumRanges) {\n    if (tageBisWechsel >= r.start && tageBisWechsel <= r.end) {\n      zeitraumLabel = r.label;\n      break;\n    }\n  }\n  const zeitraumColor = zeitraumRanges.find(r => r.label === zeitraumLabel)?.color || '#b0b0b0';\n\n  // Unsicherheit\n  let unsicherheit = null;\n  if (prediction.predictions && prediction.predictions[0] && prediction.predictions[0].vorhersage) {\n    unsicherheit = prediction.predictions[0].vorhersage.unsicherheit;\n  }\n\n  return (\n    <Box sx={{ width: '100%', display: 'flex', mt: 4, mb: 4, justifyContent: 'center', height: '100%'}}>\n      <Box sx={{ bgcolor: '#fff', borderRadius: '22px', boxShadow: '0 4px 24px 0 rgba(0,0,0,0.10)', p: { xs: 2, sm: 3 }, width: '100%', maxWidth: 1300, display: 'flex', flexDirection: 'column', gap: 1.5, border: '1.5px solid #e0e7ef', height: '400px'}}>\n        <Typography variant=\"h6\" color=\"primary\" sx={{ fontWeight: 900, letterSpacing: 1, mb: 0.5 }}>\n          Voraussichtlicher Jobwechsel\n        </Typography>\n        <Typography sx={{ color: '#444', fontSize: '1.1rem', lineHeight: 1.7, textAlign: 'justify', mb: 1 }}>\n          Die Prognose zeigt, wann der Kandidat voraussichtlich den Job wechseln wird. Die Timeline visualisiert den Zeitraum zwischen heute und dem erwarteten Wechseldatum.\n        </Typography>\n        {prediction.llm_explanation && (\n          <Box sx={{ mt: 1, mb: 1, p: 1.5, bgcolor: '#f5f5f5', borderRadius: 2, width: '100%' }}>\n            <Typography sx={{ color: '#444', fontSize: '1.08rem', lineHeight: 1.7, textAlign: 'center' }}>\n              {prediction.llm_explanation}\n            </Typography>\n          </Box>\n        )}\n        <Timeline prediction={prediction} />\n      </Box>\n    </Box>\n  );\n};\n\nexport default PredictionResultTime;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}