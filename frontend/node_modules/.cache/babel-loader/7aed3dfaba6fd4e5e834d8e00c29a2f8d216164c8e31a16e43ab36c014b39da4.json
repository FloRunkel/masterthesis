{"ast":null,"code":"var _jsxFileName = \"/Users/florianrunkel/Documents/02_Uni/04_Masterarbeit/masterthesis/frontend/src/components/candidates/prediction/PredictionResultTime.jsx\";\nimport React from 'react';\nimport { Box, Typography, Chip } from '@mui/material';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport Timeline from '../display/Timeline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst zeitraumRanges = [{\n  label: \"0-3 Monate\",\n  start: 0,\n  end: 90,\n  color: \"#8AD265\"\n}, {\n  label: \"3-6 Monate\",\n  start: 91,\n  end: 180,\n  color: \"#8AD265\"\n}, {\n  label: \"6-9 Monate\",\n  start: 181,\n  end: 270,\n  color: \"#FFC03D\"\n}, {\n  label: \"9-12 Monate\",\n  start: 271,\n  end: 365,\n  color: \"#FF8000\"\n}, {\n  label: \"12-18 Monate\",\n  start: 366,\n  end: 545,\n  color: \"#FF2525\"\n}, {\n  label: \"über 18 Monate\",\n  start: 546,\n  end: 730,\n  color: \"#b0b0b0\"\n}];\nconst MAE = 190.76;\nconst RMSE = 368.66;\nfunction calculateAdjustedConfidence(prediction) {\n  if (!prediction.predictions || !prediction.predictions[0]) return prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] * MAE : 0;\n  const vorhersage = prediction.predictions[0].vorhersage;\n  const uncertainty = vorhersage.unsicherheit;\n  const daysFromConfidence = (prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] : 0) * MAE;\n  const rmseFactor = 1 - uncertainty / RMSE;\n  const adjustedDays = daysFromConfidence * rmseFactor;\n  return adjustedDays;\n}\nconst PredictionResultTime = ({\n  prediction\n}) => {\n  var _zeitraumRanges$find;\n  if (!prediction) return null;\n\n  // Berechne Werte\n  const adjustedDays = calculateAdjustedConfidence(prediction);\n  const heute = new Date();\n  const tageBisWechsel = Math.round(adjustedDays);\n  const wechseldatum = new Date(heute.getTime() + tageBisWechsel * 24 * 60 * 60 * 1000);\n  const wechseldatumStr = wechseldatum.toLocaleDateString('de-DE', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n\n  // Zeitraum-Label\n  let zeitraumLabel = \"-\";\n  for (const r of zeitraumRanges) {\n    if (tageBisWechsel >= r.start && tageBisWechsel <= r.end) {\n      zeitraumLabel = r.label;\n      break;\n    }\n  }\n  const zeitraumColor = ((_zeitraumRanges$find = zeitraumRanges.find(r => r.label === zeitraumLabel)) === null || _zeitraumRanges$find === void 0 ? void 0 : _zeitraumRanges$find.color) || '#b0b0b0';\n\n  // Unsicherheit\n  let unsicherheit = null;\n  if (prediction.predictions && prediction.predictions[0] && prediction.predictions[0].vorhersage) {\n    unsicherheit = prediction.predictions[0].vorhersage.unsicherheit;\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      mt: 6,\n      mb: 6\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        bgcolor: '#fff',\n        borderRadius: '22px',\n        boxShadow: '0 4px 24px 0 rgba(0,0,0,0.10)',\n        p: {\n          xs: 3,\n          sm: 5\n        },\n        minWidth: 1200,\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        gap: 3,\n        border: '1.5px solid #e0e7ef'\n      },\n      children: [prediction.llm_explanation && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2,\n          p: 2.5,\n          bgcolor: '#f5f5f5',\n          borderRadius: 2,\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: '#444',\n            fontSize: '1.13rem',\n            lineHeight: 1.8,\n            textAlign: 'center'\n          },\n          children: prediction.llm_explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: '100%',\n          mt: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Timeline, {\n          prediction: prediction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = PredictionResultTime;\nexport default PredictionResultTime;\nvar _c;\n$RefreshReg$(_c, \"PredictionResultTime\");","map":{"version":3,"names":["React","Box","Typography","Chip","CalendarMonthIcon","AccessTimeIcon","TrendingUpIcon","InfoOutlinedIcon","Timeline","jsxDEV","_jsxDEV","zeitraumRanges","label","start","end","color","MAE","RMSE","calculateAdjustedConfidence","prediction","predictions","confidence","vorhersage","uncertainty","unsicherheit","daysFromConfidence","rmseFactor","adjustedDays","PredictionResultTime","_zeitraumRanges$find","heute","Date","tageBisWechsel","Math","round","wechseldatum","getTime","wechseldatumStr","toLocaleDateString","year","month","day","zeitraumLabel","r","zeitraumColor","find","sx","width","display","justifyContent","alignItems","mt","mb","children","bgcolor","borderRadius","boxShadow","p","xs","sm","minWidth","flexDirection","gap","border","llm_explanation","fontSize","lineHeight","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/florianrunkel/Documents/02_Uni/04_Masterarbeit/masterthesis/frontend/src/components/candidates/prediction/PredictionResultTime.jsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Chip } from '@mui/material';\nimport CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport Timeline from '../display/Timeline';\n\nconst zeitraumRanges = [\n  { label: \"0-3 Monate\", start: 0, end: 90, color: \"#8AD265\" },\n  { label: \"3-6 Monate\", start: 91, end: 180, color: \"#8AD265\" },\n  { label: \"6-9 Monate\", start: 181, end: 270, color: \"#FFC03D\" },\n  { label: \"9-12 Monate\", start: 271, end: 365, color: \"#FF8000\" },\n  { label: \"12-18 Monate\", start: 366, end: 545, color: \"#FF2525\" },\n  { label: \"über 18 Monate\", start: 546, end: 730, color: \"#b0b0b0\" }\n];\n\nconst MAE = 190.76;\nconst RMSE = 368.66;\n\nfunction calculateAdjustedConfidence(prediction) {\n  if (!prediction.predictions || !prediction.predictions[0]) return prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] * MAE : 0;\n  const vorhersage = prediction.predictions[0].vorhersage;\n  const uncertainty = vorhersage.unsicherheit;\n  const daysFromConfidence = (prediction.confidence && prediction.confidence[0] ? prediction.confidence[0] : 0) * MAE;\n  const rmseFactor = 1 - (uncertainty / RMSE);\n  const adjustedDays = daysFromConfidence * rmseFactor;\n  return adjustedDays;\n}\n\nconst PredictionResultTime = ({ prediction }) => {\n  if (!prediction) return null;\n\n  // Berechne Werte\n  const adjustedDays = calculateAdjustedConfidence(prediction);\n  const heute = new Date();\n  const tageBisWechsel = Math.round(adjustedDays);\n  const wechseldatum = new Date(heute.getTime() + tageBisWechsel * 24 * 60 * 60 * 1000);\n  const wechseldatumStr = wechseldatum.toLocaleDateString('de-DE', { year: 'numeric', month: 'long', day: 'numeric' });\n\n  // Zeitraum-Label\n  let zeitraumLabel = \"-\";\n  for (const r of zeitraumRanges) {\n    if (tageBisWechsel >= r.start && tageBisWechsel <= r.end) {\n      zeitraumLabel = r.label;\n      break;\n    }\n  }\n  const zeitraumColor = zeitraumRanges.find(r => r.label === zeitraumLabel)?.color || '#b0b0b0';\n\n  // Unsicherheit\n  let unsicherheit = null;\n  if (prediction.predictions && prediction.predictions[0] && prediction.predictions[0].vorhersage) {\n    unsicherheit = prediction.predictions[0].vorhersage.unsicherheit;\n  }\n\n  return (\n    <Box sx={{ width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center', mt: 6, mb: 6 }}>\n      <Box sx={{ bgcolor: '#fff',  borderRadius: '22px', boxShadow: '0 4px 24px 0 rgba(0,0,0,0.10)',  p: { xs: 3, sm: 5 },  minWidth: 1200, width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center',  gap: 3, border: '1.5px solid #e0e7ef', }}>\n        {prediction.llm_explanation && (\n          <Box sx={{ mt: 2, p: 2.5, bgcolor: '#f5f5f5', borderRadius: 2, width: '100%' }}>\n            <Typography sx={{ color: '#444', fontSize: '1.13rem', lineHeight: 1.8, textAlign: 'center' }}>\n              {prediction.llm_explanation}\n            </Typography>\n          </Box>\n        )}\n        <Box sx={{ width: '100%', mt: 2 }}>\n          <Timeline prediction={prediction} />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default PredictionResultTime;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}